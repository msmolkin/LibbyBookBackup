# Extract the Title and Author and last edited date (or circulation date) from the following HTML:

# Had HTML of a page here for testing. Replaced with the local file.

# <section class="share-data-tables">
#         <div class="table-scroller-1d">
#           <table class="share-table-1d">
#             <tbody>
#               <tr>
#                 <th>Title</th>
#                 <td><a href="https://share.libbyapp.com/title/671481">The $100 Startup</a></td>
#               </tr>
#               <tr>
#                 <th>Author</th>
#                 <td>Chris Guillebeau</td>
#               </tr>
#               <tr>
#                 <th>Publisher</th>
#                 <td>Crown</td>
#               </tr>
#               <tr>
#                 <th>Isbn</th>
#                 <td>9780307951540</td>
#               </tr>
#               <tr>
#                 <th>Percent</th>
#                 <td>36.6%</td>
#               </tr>
#             </tbody>
#           </table>
#         </div>
#         <h3>Highlights</h3>
#         <div class="table-scroller-2d">
#           <table class="share-table-2d">
#             <thead>
#               <tr>
#                 <th>Date</th>
#                 <th>Chapter</th>
#                 <th>Percent</th>
#                 <th>Color</th>
#                 <th>Quote</th>
#                 <th>Note</th>
#               </tr>
#             </thead>
#             <tbody>
#               <tr>
#                 <td>
#                   December 08, 2022 02:01
#                 </td>
#                 <td class="is-multiline">
#                   5. The New Demographics: Your Customers All Have Something in Common, but It Has Nothing to Do with Old-School Categories.
#                 </td>
#                 <td>
#                   35.4%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   You can often follow a fad, craze, or trend by establishing yourself as an authority and simplifying something about the process for others hoping to benefit from it
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   November 22, 2022 02:55
#                 </td>
#                 <td class="is-multiline">
#                   4. The Rise of the Roaming Entrepreneur: “Location, Location, Location” Is Overrated.
#                 </td>
#                 <td>
#                   27.7%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   just eleven days after Evernote Essentials went on sale, the PayPal account tipped into five figures
#                 </td>
#                 <td class="is-multiline">
#                   How did he sell it? How did he advertise/market it? In other words, how did he find people that were willing to pay money for it? (Where did he sell it? He found the right tool/site.)

# Aha. See chapter 9
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   November 22, 2022 02:55
#                 </td>
#                 <td class="is-multiline">
#                   4. The Rise of the Roaming Entrepreneur: “Location, Location, Location” Is Overrated.
#                 </td>
#                 <td>
#                   26.1%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td>
#                   VisaHQ.com
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   November 21, 2022 21:35
#                 </td>
#                 <td class="is-multiline">
#                   3. Follow Your Passion…Maybe: Get Paid to Do What You Love by Making Sure It Connects to What Other People Want.
#                 </td>
#                 <td>
#                   22.2%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   successful follow-your-passion business owners understand an important principle that aspiring (and unsuccessful) business owners don’t. The missing piece is that you usually don’t get paid for your hobby itself; you get paid for helping other people pursue the hobby or for something indirectly related to 
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   November 21, 2022 04:43
#                 </td>
#                 <td class="is-multiline">
#                   4. The Rise of the Roaming Entrepreneur: “Location, Location, Location” Is Overrated.
#                 </td>
#                 <td>
#                   26.1%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td>
#                   CouchSurfing.org
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   November 21, 2022 00:42
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   17.5%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   If you make your business about helping others, you’ll always have plenty of work
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 19, 2022 03:53
#                 </td>
#                 <td class="is-multiline">
#                   3. Follow Your Passion…Maybe: Get Paid to Do What You Love by Making Sure It Connects to What Other People Want.
#                 </td>
#                 <td>
#                   19.7%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   No one values a $15-an-hour consultant, so do not underprice your service
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 19, 2022 03:52
#                 </td>
#                 <td class="is-multiline">
#                   3. Follow Your Passion…Maybe: Get Paid to Do What You Love by Making Sure It Connects to What Other People Want.
#                 </td>
#                 <td>
#                   19.9%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   At least two stories of how others have been helped by the service
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 19, 2022 03:52
#                 </td>
#                 <td class="is-multiline">
#                   3. Follow Your Passion…Maybe: Get Paid to Do What You Love by Making Sure It Connects to What Other People Want.
#                 </td>
#                 <td>
#                   19.7%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   I will help clients __________. After hiring me, they will receive [core benefit + secondary benefit]. 

# I will charge $xxx per hour or a flat rate of _____ per service. This rate is fair to the client and to me. 

# My basic website will contain these elements:  

 



# a.The core benefit that I provide for clients and what qualifies me to provide it (remember that qualifications may have nothing to do with education or certifications
#                 </td>
#                 <td class="is-multiline">
#                   Money management consultant. Wondering where your cash goes every month? Your company pulls in 6k a month but you don’t have a penny to invest after deductions? Your business pulls in 550k per month, but your retirement’s just not growing fast enough? Can’t pay off the mortgage? Short sessions will help you get your finances in order! Call now.
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 19, 2022 03:51
#                 </td>
#                 <td class="is-multiline">
#                   3. Follow Your Passion…Maybe: Get Paid to Do What You Love by Making Sure It Connects to What Other People Want.
#                 </td>
#                 <td>
#                   19.9%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   Pricing details (always be up front about fees; never make potential clients write or call to find out how much something costs)
#                 </td>
#                 <td class="is-multiline">
#                   This is something that I need to change in the Google my business I created. Now that I have a basic idea of how much people pay, I can create it
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 19, 2022 03:49
#                 </td>
#                 <td class="is-multiline">
#                   3. Follow Your Passion…Maybe: Get Paid to Do What You Love by Making Sure It Connects to What Other People Want.
#                 </td>
#                 <td>
#                   19.7%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   Since you probably won’t have forty hours of billable work every week, charge at least $100 an hour or a comparable fixed rate for the benefit you provide
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 18, 2022 00:39
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   17.1%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   homing in on what customers really want from a business is critical. Simply put, we want more of some things and less of others
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 18, 2022 00:39
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   17.1%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   In the “More” column are things such as love, money, acceptance, and free time
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 18, 2022 00:37
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   16.8%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   focus on either getting money in the bank or developing new products or services. These are the most important tasks of your business—not administration, maintenance, or anything else that takes time without creating wealth or value
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 18, 2022 00:36
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   16.8%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   but it’s always better to start from where you are than to wait for everything to be perfect
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 18, 2022 00:16
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   15.9%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   sell what people buy—in other words, think more about what people really want
#                 </td>
#                 <td class="is-multiline">
#                   Write a story/sales pitch where they’re buying your thing because they want it, not because you think they need it.
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 18, 2022 00:16
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   14.7%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td>
#                   Feature (Descriptive) 

# Benefit (Emotional
#                 </td>
#                 <td class="is-multiline">
#                   To get paid (for the owner), they (customers) want an emotional benefit
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 17, 2022 23:28
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   12.8%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   “We’re not selling horse rides,” Barbara said emphatically. “We’re offering freedom. Our work helps our
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 17, 2022 23:28
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   13.0%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   guests escape, even if just for a moment in time, and be someone they may have never even considered before.” 

# The difference is crucial. Most people who visit the V6 Ranch have day jobs and a limited number of vacation days. Why do they choose to visit a working ranch in a tiny town instead of jetting off to lie on a beach in Hawaii? The answer lies in the story and messaging behind John and Barbara’s offer. Helping their clients “escape and be someone else” is far more valuable than offering horse rides. Above all else, the V6 Ranch is selling happiness
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 15, 2022 23:47
#                 </td>
#                 <td class="is-multiline">
#                   2. Give Them the Fish: How to Put Happiness in a Box and Sell It.
#                 </td>
#                 <td>
#                   11.8%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   “Catch a man a fish, and you can sell it to him. 

# Teach a man to fish, and you ruin 

# a wonderful business opportunity.” 

# —KARL MARX
#                 </td>
#                 <td class="is-multiline">
#                   Lol. No evidence that Marx said this line (so a typical businessman’s lie in order to add more words to your pitch and sell more), but it’s funny.
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 15, 2022 23:33
#                 </td>
#                 <td class="is-multiline">
#                   1. Renaissance: You Already Have the Skills You Need—You Just Have to Know Where to Look.
#                 </td>
#                 <td>
#                   11.4%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   a product or service, a group of people willing to pay for it, and a way to get paid
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 15, 2022 23:33
#                 </td>
#                 <td class="is-multiline">
#                   1. Renaissance: You Already Have the Skills You Need—You Just Have to Know Where to Look.
#                 </td>
#                 <td>
#                   10.2%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td>
#                   Passion or skill + usefulness = success
#                 </td>
#                 <td>
                  
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 15, 2022 22:38
#                 </td>
#                 <td class="is-multiline">
#                   1. Renaissance: You Already Have the Skills You Need—You Just Have to Know Where to Look.
#                 </td>
#                 <td>
#                   11.6%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   Scott Adams, “How to Get a Real Education at College,” The Wall Street Journal, April 9, 2011
#                 </td>
#                 <td>
#                   Add to #books to read list
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 10, 2022 13:16
#                 </td>
#                 <td class="is-multiline">
#                   Prologue: Manifesto: A Short Guide to Everything You Want
#                 </td>
#                 <td>
#                   3.8%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   the vital career question of what is risky and what is safe has changed permanently
#                 </td>
#                 <td class="is-multiline">
#                   Naval’s thought is that there's no big risk in starting a company anymore. Even if you have to use a few million dollars of other people’s money to do it. They are investors, and they knew the risks coming in. When that money is gone, then you try again. And if you seemed like you were going to be successful, they'll actually probably give you more after you fail, because you have now failed once. Do you learned your lesson's, and you'll do better next time.
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 10, 2022 13:09
#                 </td>
#                 <td class="is-multiline">
#                   Prologue: Manifesto: A Short Guide to Everything You Want
#                 </td>
#                 <td>
#                   3.1%
#                 </td>
#                 <td>
#                   <span class="color-swatch" style="color: #FFB">#FFB</span>
#                 </td>
#                 <td class="is-multiline">
#                   If I needed money, I learned to think in terms of how I could get what I needed by making something and selling it, not by cutting costs elsewhere or working for someone else
#                 </td>
#                 <td class="is-multiline">
#                   Make something and sell it. Also if you need X, sell 99 copies of it and keep the 100th one after buying 100 wholesale.
#                 </td>
#               </tr>
#             </tbody>
#           </table>
#         </div>
#         <h3>Circulation</h3>
#         <div class="table-scroller-2d">
#           <table class="share-table-2d">
#             <thead>
#               <tr>
#                 <th>Date</th>
#                 <th>Activity</th>
#                 <th>Details</th>
#                 <th>Library</th>
#               </tr>
#             </thead>
#             <tbody>
#               <tr>
#                 <td>
#                   November 05, 2022 23:51
#                 </td>
#                 <td>
#                   Returned
#                 </td>
#                 <td>
#                   on due date
#                 </td>
#                 <td>
#                   <a href="https://libbyapp.com/library/ccc">Contra Costa County Library</a>
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   October 15, 2022 23:51
#                 </td>
#                 <td>
#                   Borrowed
#                 </td>
#                 <td>
#                    21 days 
#                 </td>
#                 <td>
#                   <a href="https://libbyapp.com/library/ccc">Contra Costa County Library</a>
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   September 11, 2022 23:18
#                 </td>
#                 <td>
#                   Borrowed
#                 </td>
#                 <td>
#                    21 days 
#                 </td>
#                 <td>
#                   <a href="https://libbyapp.com/library/sfpl">San Francisco Public Library</a>
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   August 25, 2022 18:40
#                 </td>
#                 <td>
#                   Returned
#                 </td>
#                 <td>
#                   on due date
#                 </td>
#                 <td>
#                   <a href="https://libbyapp.com/library/ccc">Contra Costa County Library</a>
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   June 29, 2022 15:20
#                 </td>
#                 <td>
#                   Borrowed
#                 </td>
#                 <td>
#                    21 days 
#                 </td>
#                 <td>
#                   <a href="https://libbyapp.com/library/ccc">Contra Costa County Library</a>
#                 </td>
#               </tr>
#               <tr>
#                 <td>
#                   May 20, 2022 15:39
#                 </td>
#                 <td>
#                   Tagged
#                 </td>
#                 <td>
#                   🧾
#                 </td>
#                 <td>
#                   <a href="https://libbyapp.com/library/ccc">Contra Costa County Library</a>
#                 </td>
#               </tr>
#             </tbody>
#           </table>
#         </div>
#       </section>

# The output should be:
#   The Body Keeps the Score
#   Bessel van der Kolk, M.D.

import pathlib
from bs4 import BeautifulSoup as bs
from datetime import datetime

# Read the HTML from a file
html = pathlib.Path("book.html").read_text()

# Parse the HTML
soup = bs(html, "html.parser")
table_titleinfo = soup.find("table", class_="share-table-1d")

# Extract the title and author
title = table_titleinfo.find("a").text
author = table_titleinfo.find_all("td")[1].text

# Extract the last edited date
table_edits = soup.find("table", class_="share-table-2d")
date_latest_note = table_edits.find_all("td")[0].text

# Extract the circulation date
table_circulation = soup.find_all("table", class_="share-table-2d")[1]
date_latest_circulation_change = table_circulation.find_all("td")[0].text

# convert the date to a datetime object
date_latest_note = datetime.strptime(date_latest_note.strip(), "%B %d, %Y %H:%M")
date_latest_circulation_change = datetime.strptime(date_latest_circulation_change.strip(), "%B %d, %Y %H:%M")
last_edit_formatted_for_filename = max(date_latest_note, date_latest_circulation_change).strftime("%Y-%m-%d %H-%M")


print(last_edit_formatted_for_filename + " " + title + " by " + author + " book notes (downloaded " + datetime.now().strftime("%Y-%m-%d %H-%M-%S"))